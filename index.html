<!DOCTYPE html>
<html>
  <head>
    <title>Reproducción de audio con subtítulos</title>
    <script src="https://unpkg.com/subtitles-octopus/dist/subtitles-octopus.js"></script>
  </head>
  <body>
    <h1>Reproducción de audio con subtítulos</h1>
    <audio id="audioPlayer" controls>
      <source src="audio.mp3" type="audio/mpeg" />
    </audio>
    <div id="subtitles"></div>
    <script>
      var video = document.getElementById("audioPlayer");
      var track = video.addTextTrack("subtitles", "Subtítulos", "en");

      // Cargar el archivo SRT y agregar los subtítulos a la pista de texto
      fetch("transcription.srt")
        .then((response) => response.text())
        .then((data) => {
          var subtitles = new SubtitlesOctopus({
            video: video,
            subUrl: "data:text/plain;base64," + btoa(data),
            fonts: [
              "https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu4mxM.woff2",
              "https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fBBc9.ttf",
            ],
          });
          subtitles.setSize("100%");
          subtitles.assign(track);
        });
    </script>
  </body>
</html>
